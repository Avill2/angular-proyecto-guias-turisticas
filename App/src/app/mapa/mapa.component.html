<h1>{{"Mapa"}}</h1>

<!-- this creates a google map on the page with the given lat/lng from -->
<!-- the component as the initial center of the map: -->
<agm-map [latitude]="lat"
         [longitude]="lng"
         [zoom]="zoom"
         [disableDefaultUI]="false"
         [zoomControl]="false"
         (mapDblClick)="mapClicked($event)"
>
  <agm-marker
              *ngFor="let m of markers; let i = index"
              (markerClick)="clickedMarker(m, i)"
              [latitude]="m.lat"
              [longitude]="m.lng"
              [markerDraggable]="m.draggable"
              (dragEnd)="markerDragEnd(m, $event)"
  >
    <agm-info-window>
      <strong>{{m.name}}</strong>
    </agm-info-window>

  </agm-marker>
</agm-map>

<div class="row">
  <div class="col-md-12">

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Añadir Nueva Ubicación</h3>
      </div>
      <div class="panel-body">
        <form (submit)="addMarker()">
        <label>Nombre de la Ubicación</label>
        <input type="text" [(ngModel)]="markerName"  name="markerName">

        <label>Latitud</label>
        <input type="text" [(ngModel)]="markerLat"  name="markerLat">

        <label>Longitud</label>
        <input type="text" [(ngModel)]="markerLng"  name="markerLng">

        <label>Arrastrable</label>
        <select [(ngModel)]="markerDraggable" name="markerDraggable">
          <option value="no">No</option>
          <option value="yes">Ye</option>
        </select>
        <input type="submit" value="Mapear">
        </form>
      </div>
  </div>

  </div>
</div>
